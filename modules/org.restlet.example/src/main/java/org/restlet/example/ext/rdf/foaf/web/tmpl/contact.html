<#include "/header.ftl"/>
<#global content>
<div>
	<h4>Update my contact.</h4>
	<form action="${resourceRef}?method=put" method="post" accept-charset="UTF-8">
		<table width="100%">
			<tr>
				<td>Nickname:</td>
				<td><input type="text" name="nickname" value="${contact.nickname!""}" /></td>
			</tr>
			<tr>
				<td>First name:</td>
				<td><input type="text" name="firstName" value="${contact.firstName!""}" /></td>
			</tr>
			<tr>
				<td>Last name:</td>
				<td><input type="text" name="lastName" value="${contact.lastName!""}" /></td>
			</tr>
			<tr>
				<td>Image:</td>
				<td><input type="text" name="image" value="${contact.image!""}" size="40" /></td>
			</tr>
<#if contact.image??>
			<tr>
				<td colspan="2"><img src="${contact.image}" alt="${contact.nickname}" /></td>
			</tr>
</#if>
			<tr>
				<td>Foaf Uri:</td>
				<td><input type="text" name="foafUri" value="${contact.foafUri!""}" size="40" /></td>
			</tr>
		</table>
		<p>
		<input type="submit" name="updateContact" title="Submit modifications to the contact" value="Update" onclick="this.form.action='${resourceRef}?method=put'" />
		<input type="button" name="deleteContact" title="Delete the contact" value="Delete" onclick="this.form.action='${resourceRef}?method=delete';this.form.submit();" />
		</p>
	</form>
</div>
</#global>

<#global foafAlternate>
<link rel="alternate" type="application/rdf+xml" title="FOAF" href="${resourceRef}.rdf" />
</#global>
<#global menu>
   <div>
      <h3 class="menu"><a href="${rootRef}/users">Users</a></h3>
      <ul>
         <li><a href="${rootRef}/users/${user.id}">${user.firstName} ${user.lastName}</a></li>
      </ul>
   </div>
   <div>
      <h3><a href="${rootRef}/users/${user.id}/contacts">Contacts</a></h3>
      <ul>
	    <li><a href="${resourceRef}/contacts/${contact.id}" >${contact.nickname} <#if contact.image??><img src="${contact.image}" alt="${contact.nickname}" /></#if></a></li>
      </ul>
   </div>
</#global>
<#include "/footer.ftl"/>
