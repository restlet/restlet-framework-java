<#include "/header.ftl"/>
<#global content>
<div>
	<h4>Update a user.</h4>
	<form action="${resourceRef}?method=put" method="post" accept-charset="UTF-8">
		<table width="100%">
			<tr>
				<td width="20%">First name:</td>
				<td width="80%"><input type="text" name="firstName" value="${user.firstName}" /></td>
			</tr>
			<tr>
				<td>Last name:</td>
				<td><input type="text" name="lastName" value="${user.lastName}" /></td>
			</tr>
			<tr>
				<td>Image:</td>
				<td><input type="text" name="image" value="${user.image!""}" size="40"/></td>
			</tr>
<#if user.image??>
			<tr>
				<td colspan="2"><img src="${user.image}" alt="${user.firstName} ${user.lastName}" /></td>
			</tr>
</#if>
		</table>
		<p>
		   <input type="submit" name="updateUser" title="Submit modifications to the user" value="Update" onclick="this.form.action='${resourceRef}?method=put'" />
           <input type="button" name="deleteUser" title="Delete the user" value="Delete" onclick="this.form.action='${resourceRef}?method=delete';this.form.submit();" />
        </p>
	</form>
</div>
</#global>

<#global menu>
   <div>
      <h3 class="menu"><a href="${rootRef}/users">Users</a></h3>
      <ul>
         <li><a href="${rootRef}/users/${user.id}">${user.firstName} ${user.lastName}</a></li>
      </ul>
   </div>
   <div>
      <h3 class="menu"><a href="${resourceRef}/contacts">Contacts</a></h3>
<#if contacts??>
      <ul>
	<#list contacts as contact>
	    <li><a href="${resourceRef}/contacts/${contact.id}" >${contact.nickname} <#if contact.image??><img src="${contact.image}" height="30" alt="${contact.nickname}" /></#if></a></li>
	</#list>
     </ul>
</#if>
   </div>
</#global>

<#global foafAlternate>
<link rel="alternate" type="application/rdf+xml" title="FOAF" href="${resourceRef}.rdf" />
</#global>
<#include "/footer.ftl"/>
